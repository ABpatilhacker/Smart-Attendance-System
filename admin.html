<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="admin.css">
</head>

<body>

<!-- ===== OVERLAY (for outside click close) ===== -->
<div id="overlay" onclick="toggleSidebar(false)"></div>

<!-- ===== HEADER ===== -->
<header class="topbar">
  <button class="menu-btn" onclick="toggleSidebar()">â˜°</button>
  <h1>Admin Dashboard</h1>
</header>

<!-- ===== SIDEBAR ===== -->
<aside id="sidebar" class="sidebar">
  <h2>Admin</h2>

  <a onclick="navigate('dashboard')">ğŸ“Š Dashboard</a>
  <a onclick="navigate('approvals')">ğŸŸ¡ Approvals</a>
  <a onclick="navigate('classes')">ğŸ« Classes</a>
  <a onclick="navigate('teachers')">ğŸ‘¨â€ğŸ« Teachers</a>
  <a onclick="navigate('students')">ğŸ“ Students</a>
  <a onclick="navigate('settings')">âš™ï¸ Settings</a>

  <a class="logout" onclick="logout()">ğŸšª Logout</a>
</aside>

<!-- ===== MAIN CONTENT ===== -->
<main class="main">

  <!-- DASHBOARD -->
  <section id="dashboard" class="page active">
    <div class="stats">
      <div class="stat-card">
        <h3>Classes</h3>
        <span id="classCount">0</span>
      </div>
      <div class="stat-card">
        <h3>Teachers</h3>
        <span id="teacherCount">0</span>
      </div>
      <div class="stat-card">
        <h3>Students</h3>
        <span id="studentCount">0</span>
      </div>
    </div>
  </section>

  <!-- APPROVALS -->
  <section id="approvals" class="page">
    <h2>Pending Approvals</h2>
    <ul id="pendingList"></ul>
  </section>

  <!-- CLASSES -->
  <section id="classes" class="page">
    <h2>Classes</h2>
    <input id="className" placeholder="Class Name">
    <button onclick="addClass()">Add Class</button>
    <ul id="classList"></ul>
  </section>

  <!-- TEACHERS -->
  <section id="teachers" class="page">
    <h2>Teachers</h2>
    <input id="teacherName" placeholder="Teacher Name">
    <input id="teacherEmail" placeholder="Teacher Email">
    <button onclick="addTeacher()">Add Teacher</button>
    <ul id="teacherList"></ul>
  </section>

  <!-- STUDENTS -->
  <section id="students" class="page">
    <h2>Students</h2>
    <input id="studentName" placeholder="Student Name">
    <input id="studentRoll" placeholder="Roll Number">
    <input id="studentEmail" placeholder="Student Email">
    <select id="studentClass"></select>
    <button onclick="addStudent()">Add Student</button>
  </section>

  <!-- SETTINGS -->
  <section id="settings" class="page">
    <h2>Settings</h2>
    <input id="minAttendance" placeholder="Minimum Attendance %">
    <button onclick="saveSettings()">Save</button>
  </section>

</main>

<!-- ===== DETAIL PANELS (USED BY YOUR JS) ===== -->
<div id="teacherProfile" class="panel"></div>
<div id="classPanel" class="panel"></div>
<div id="studentPanel" class="panel"></div>

<!-- ===== JS ===== -->
<script src="admin.js"></script>

<!-- ===== SAFE UI SCRIPT (NO LOGIC TOUCH) ===== -->
<script>
function toggleSidebar(force) {
  const sidebar = document.getElementById("sidebar");
  const overlay = document.getElementById("overlay");
  const open = force !== undefined ? force : !sidebar.classList.contains("open");

  sidebar.classList.toggle("open", open);
  overlay.classList.toggle("show", open);
}

function navigate(pageId) {
  document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
  document.getElementById(pageId).classList.add("active");
  toggleSidebar(false);
}
</script>

</body>
</html>
