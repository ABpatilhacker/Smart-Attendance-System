<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Teacher Dashboard</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="teacher.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

  <!-- Chart -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">
  <h2>Teacher</h2>
  <ul>
    <li onclick="openSection('dashboard')">ğŸ  Dashboard</li>
    <li onclick="openSection('classes')">ğŸ“š My Classes</li>
    <li onclick="openSection('attendance')">ğŸ“ Take Attendance</li>
    <li onclick="openSection('records')">ğŸ“… Attendance Records</li>
    <li onclick="openSection('defaulters')">âš ï¸ Defaulters</li>
    <li onclick="openSection('profile')">ğŸ‘¤ My Profile</li>
    <li onclick="logout()">ğŸšª Logout</li>
  </ul>
</div>

<div id="overlay" onclick="toggleSidebar()"></div>

<!-- TOPBAR -->
<div class="topbar">
  <span class="menu-btn" onclick="toggleSidebar()">â˜°</span>
  <h1>Teacher Dashboard</h1>
  <div class="welcome-card" id="welcomeCard">Welcome ğŸ‘‹</div>
</div>

<!-- MAIN -->
<div class="main">

  <!-- DASHBOARD -->
  <div class="section active" id="dashboard">
    <div class="cards-container">
      <div class="card" onclick="openSection('classes')">
        <span class="card-icon">ğŸ“š</span>
        <h3>My Classes</h3>
        <p>Subjects assigned to you</p>
      </div>

      <div class="card" onclick="openSection('attendance')">
        <span class="card-icon">ğŸ“</span>
        <h3>Take Attendance</h3>
        <p>Mark daily attendance</p>
      </div>

      <div class="card" onclick="openSection('records')">
        <span class="card-icon">ğŸ“…</span>
        <h3>Attendance Records</h3>
        <p>Date wise view</p>
      </div>

      <div class="card" onclick="openSection('defaulters')">
        <span class="card-icon">âš ï¸</span>
        <h3>Defaulters</h3>
        <p>Low attendance</p>
      </div>
    </div>

    <canvas id="attendanceChart" height="200"></canvas>
  </div>

  <!-- CLASSES -->
  <div class="section" id="classes">
    <h2>My Classes & Subjects</h2>
    <div class="cards-container" id="classListContainer"></div>
  </div>

  <!-- ATTENDANCE -->
  <div class="section" id="attendance">
    <h2>Take Attendance</h2>

    <select id="subjectSelect" onchange="loadAttendanceTable()"></select>

    <table class="attendance-table">
      <thead>
        <tr>
          <th>Roll</th>
          <th>Name</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody id="attendanceBody"></tbody>
    </table>

    <button class="save-btn" onclick="saveAttendance()">Save Attendance</button>
  </div>

  <!-- RECORDS -->
  <div class="section" id="records">
    <h2>Attendance Records</h2>
    <p>Select subject & date to view attendance.</p>
  </div>

  <!-- DEFAULTERS -->
  <div class="section" id="defaulters">
    <h2>Defaulter List</h2>
    <table class="defaulter-table">
      <thead>
        <tr>
          <th>Roll</th>
          <th>Name</th>
          <th>Attendance %</th>
        </tr>
      </thead>
      <tbody id="defaulterBody"></tbody>
    </table>
  </div>

  <!-- PROFILE -->
  <div class="section" id="profile">
    <h2>My Profile</h2>
    <input id="profileName" placeholder="Name"/>
    <input id="profileEmail" placeholder="Email" disabled/>
    <button class="save-btn" onclick="saveProfile()">Save Profile</button>
  </div>

</div>

<script src="teacher.js"></script>
</body>
</html>
