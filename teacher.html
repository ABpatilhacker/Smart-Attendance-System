<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Teacher Dashboard | Smart Attendance</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="teacher.css">

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

<div class="topbar">
  <span class="menu" onclick="toggleSidebar()">â˜°</span>
  <h2>Smart Attendance</h2>
  <button onclick="logout()">Logout</button>
</div>

<aside id="sidebar">
  <a onclick="openSection('dashboard')">Dashboard</a>
  <a onclick="openSection('attendance')">Attendance</a>
  <a onclick="openSection('calendar')">Calendar</a>
  <a onclick="openSection('defaulters')">Defaulters</a>
  <a onclick="openSection('profile')">Profile</a>
</aside>

<main onclick="closeSidebar()">

<section id="dashboard" class="active">
  <div class="cards">
    <div class="card">
      <h3>Total Students</h3>
      <span id="totalStudents">0</span>
    </div>
    <div class="card">
      <h3>Attendance %</h3>
      <canvas id="attendanceChart"></canvas>
    </div>
    <div class="card">
      <h3>Defaulters</h3>
      <span id="defaulterCount">0</span>
    </div>
  </div>
</section>

<section id="attendance">
  <h2>Mark Attendance</h2>
  <table>
    <thead>
      <tr>
        <th>Roll</th>
        <th>Name</th>
        <th>Present</th>
        <th>Absent</th>
      </tr>
    </thead>
    <tbody id="attendanceTable"></tbody>
  </table>
  <button class="save-btn" onclick="saveAttendance()">Save Attendance</button>
</section>

<section id="calendar">
  <h2>Attendance Records</h2>
  <input type="date" id="recordDate" onchange="loadAttendanceByDate()">
  <div id="recordView"></div>
</section>

<section id="defaulters">
  <h2>Defaulter List</h2>
  <ul id="defaulterList"></ul>
</section>

<section id="profile">
  <h2>My Profile</h2>
  <img id="profilePic">
  <input id="teacherName">
  <input id="teacherEmail" disabled>
  <button onclick="saveProfile()">Save</button>
</section>

</main>

<script src="teacher.js"></script>
</body>
</html>
